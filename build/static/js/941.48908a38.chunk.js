"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[941],{2741:function(e,t,i){i.d(t,{Z:function(){return s}});var a="PageContainer_page-container__ySNtu",c=i(184);var s=function(e){var t=e.children;return(0,c.jsx)("div",{className:a,children:t})}},1790:function(e,t,i){var a=i(184);t.Z=function(e){var t=e.children,i={font:"inherit",fontSize:"24px",fontWeight:"normal",textAlign:e.left?"left":"center",color:"#444"};return(0,a.jsx)("h1",{style:i,children:t})}},941:function(e,t,i){i.r(t),i.d(t,{default:function(){return Y}});var a=i(9439),c=i(3433),s=i(2791),r=i(7689),n=i(1302),l=i(6853),o=i(7577),d=i(2741),h=i(1790),u=i(6727),f=i(104),p="SearchBar_search-bar__ntQCw",m="SearchBar_icon__ZBQht",x=i(184);var v=function(e){var t=e.onSearchKeyChange;return(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:t}),(0,x.jsx)("button",{children:(0,x.jsx)("span",{className:m,children:(0,x.jsx)(u.Z,{})})}),(0,x.jsx)("button",{children:(0,x.jsx)("span",{className:m,children:(0,x.jsx)(f.Z,{})})})]})},k=i(2676),j=i(3140),g="SortBar_sortby-bar__kBi8z",_="SortBar_icon__FwQTb",L="SortBar_sortby-bar__dropdown__JaaI1";var C=function(e){var t=e.onShowFiltersModal,i=e.onSelectedSort,a=e.selected;return(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("p",{children:"0 results for bakar"}),(0,x.jsxs)("p",{children:[(0,x.jsxs)(k.Z,{onClick:t,children:[(0,x.jsx)("span",{children:"Filters & Sort by"}),(0,x.jsx)("span",{className:_,children:(0,x.jsx)(j.Z,{})})]}),(0,x.jsxs)("select",{onChange:function(e){var t=e.target.value;i(t)},value:a,className:L,children:[(0,x.jsx)("option",{value:"title-asc",children:"Title Ascending"}),(0,x.jsx)("option",{value:"title-desc",children:"Title Descending"}),(0,x.jsx)("option",{value:"price-asc",children:"Price Ascending"}),(0,x.jsx)("option",{value:"price-desc",children:"Price Descending"}),(0,x.jsx)("option",{value:"date-asc",children:"Date Ascending"}),(0,x.jsx)("option",{value:"date-desc",children:"Date Descending"})]})]})]})},b="SearchResultsContainer_search-results__container__GOSK+";var N=function(e){var t=e.children;return(0,x.jsx)("div",{className:b,children:t})},S="CheckList_item__VIXGB";var y=function(e){var t=e.items,i=e.type,a=void 0===i?"checkbox":i,c=e.onClick,s=e.radioName,r=e.fieldName,n=e.onSelectedSort,l=e.selected;function o(e){var t=e.target.value;n(t)}function d(e){e.target.checked;c({id:e.target.id,fieldName:r,fieldValue:e.target.name,checked:e.target.checked,caption:e.target.dataset.caption,target:e.target})}var h=t.map((function(e,t){return(0,x.jsx)("li",{children:(0,x.jsxs)("label",{htmlFor:e.id,className:S,children:[(0,x.jsxs)("span",{children:["checkbox"===a?(0,x.jsx)("input",{type:a,id:e.id,name:e.name,checked:e.checked,onChange:d,"data-caption":e.caption}):(0,x.jsx)("input",{type:a,id:e.id,name:s,"data-caption":e.caption,value:e.value,onChange:o,defachecked:l}),e.caption]}),(0,x.jsx)("span",{})]})},t)}));return(0,x.jsx)("ul",{children:h})},Z=i(4295),I="FiltersForm_btn__4MJZ8",R="FiltersForm_icon__0zori",F="FiltersForm_filters-form__RmQtK",T="FiltersForm_filter-form--action__Sd2SD",D="FiltersForm_open__jbE0z",w="FiltersForm_filters-header__wyrRj",K="FiltersForm_filter__price__nlUmF",U="FiltersForm_filter-tags__KRZ2s";var P=function(e){var t=e.open,i=e.onHideFiltersModal,a=e.onShowResults,c=e.checkLists,s=e.filters,r=e.onChecklistClick,n=e.onFilterRemove,l=e.sortCheckList,o=e.onSelectedSort,d=e.selected;function h(e){console.log(e.target.id,e.target.value)}return(0,x.jsxs)("div",{className:"".concat(F," ").concat(t?D:void 0),children:[(0,x.jsxs)("header",{className:w,children:[(0,x.jsx)("button",{className:I,onClick:i,children:(0,x.jsx)("span",{className:R,children:(0,x.jsx)(u.Z,{})})}),(0,x.jsx)("span",{children:"Selected filters"})]}),(0,x.jsx)("div",{className:U,children:(0,x.jsx)("ul",{children:s.map((function(e,t){return(0,x.jsxs)("li",{children:[(0,x.jsxs)("span",{children:[e.fieldName,": ",e.caption]}),(0,x.jsx)("button",{className:"".concat(I," ").concat(R),onClick:n.bind(null,{id:e.id,fieldName:e.fieldName}),children:(0,x.jsx)(u.Z,{})})]},t)}))})}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:(0,x.jsx)(Z.Z,{title:"Category",children:(0,x.jsx)(y,{fieldName:"category",items:c.categoriesCheckList,onClick:r})})}),(0,x.jsx)("li",{children:(0,x.jsx)(Z.Z,{title:"Brand",children:(0,x.jsx)(y,{fieldName:"brands",items:c.brandsCheckList,onClick:r})})}),(0,x.jsx)("li",{children:(0,x.jsx)(Z.Z,{title:"Price",children:(0,x.jsxs)("div",{className:K,children:[(0,x.jsx)("input",{type:"number",min:"10.00",max:c.priceRange.to,step:"10",defaultValue:c.priceRange.from,onBlur:h,id:"priceRange.from"}),(0,x.jsx)("span",{children:" - "}),(0,x.jsx)("input",{type:"number",min:"10.00",max:c.priceRange.to,step:"10",defaultValue:c.priceRange.to,onBlur:h,id:"priceRange.to"})]})})}),(0,x.jsx)("li",{children:(0,x.jsx)(Z.Z,{title:"Avalaibility",children:(0,x.jsx)(y,{fieldName:"availability",items:c.availabilityCheckList,onClick:r})})}),(0,x.jsx)("li",{children:(0,x.jsx)(Z.Z,{title:"Sort by",opened:!0,children:(0,x.jsx)(y,{items:l,type:"radio",radioName:"sorting",onSelectedSort:o,selected:d})})})]}),(0,x.jsx)("p",{className:T,children:(0,x.jsx)(k.Z,{onClick:a,children:"SHOW (3) RESULTS"})})]})},E=i(1087),B="ResultList_result__list__sM3LO",M="ResultList_result__item__G283h",A="ResultList_result__image__N+7tz",H="ResultList_result__badge__bYYsW";var Q=function(e){var t=e.items;return(0,x.jsx)("ul",{className:B,children:t.map((function(e){return(0,x.jsx)("li",{className:M,children:(0,x.jsxs)(E.rU,{to:"/collections/all/products/".concat(e.id),children:[(0,x.jsx)("div",{className:A,children:(0,x.jsx)("img",{src:e.imageUrl,alt:e.title})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:e.title}),(0,x.jsxs)("p",{children:[(0,x.jsxs)("span",{children:["from Rs. ",e.price]}),(0,x.jsx)("span",{className:H,children:"In stock"})]})]})]})},e.id)}))})},z=["Sweets","Savouries","Dairy","Instant Mixes","Pulp 7 Spread","chitale M2"],O=["Chitale Dairy","Aditya Milk","Vikas Milk","Sakas Patan","Krishna Co Op"],V={from:100,to:5e3},G=[{caption:"Title Ascending",value:"title-asc"},{caption:"Title Descending",value:"title-desc"},{caption:"Price Ascending",value:"price-asc"},{caption:"Price Descending",value:"price-desc"},{caption:"Date Ascending",value:"date-asc"},{caption:"Date Descending",value:"date-desc"}],W=["In Stock","Out of Stock"],J=function(e,t){if("CHECKLIST_CLICK"===t.type){var i,a={id:t.checkListItem.id,fieldName:t.checkListItem.fieldName,caption:t.checkListItem.caption},s=e.checkLists;"category"===t.checkListItem.fieldName&&(i=(0,c.Z)(e.checkLists.categoriesCheckList)),"brands"===t.checkListItem.fieldName&&(i=(0,c.Z)(e.checkLists.brandsCheckList)),"availability"===t.checkListItem.fieldName&&(i=(0,c.Z)(e.checkLists.availabilityCheckList));var r,n=i.findIndex((function(e){return e.id===t.checkListItem.id}));return i[n].checked=t.checkListItem.checked,r=t.checkListItem.checked?[].concat((0,c.Z)(e.filters),[a]):e.filters.filter((function(e){return e.id!==a.id})),"category"===t.checkListItem.fieldName&&(s.categoriesCheckList=i),"brands"===t.checkListItem.fieldName&&(s.brandsCheckList=i),"availability"===t.checkListItem.fieldName&&(s.availabilityCheckList=i),{checkLists:s,filters:r}}if("CHECKLIST_INPUT"===t.type)return{checkLists:t.data.checkLists,filters:t.data.filters};if("FILTER_CLICK"===t.type){var l,o=e.checkLists;"category"===t.filterData.fieldName&&(l=(0,c.Z)(e.checkLists.categoriesCheckList)),"brands"===t.filterData.fieldName&&(l=(0,c.Z)(e.checkLists.brandsCheckList)),"availability"===t.filterData.fieldName&&(l=(0,c.Z)(e.checkLists.availabilityCheckList));var d=l.findIndex((function(e){return e.id===t.filterData.id}));l[d].checked=!1;var h=e.filters.filter((function(e){return e.id!==t.filterData.id}));return"category"===t.filterData.fieldName&&(o.categoriesCheckList=l),"brands"===t.filterData.fieldName&&(o.brandsCheckList=l),"availability"===t.filterData.fieldName&&(o.availabilityCheckList=l),{checkLists:o,filters:h}}};var Y=function(){var e,t=(0,s.useState)(!1),i=(0,a.Z)(t,2),c=i[0],u=i[1],f=(0,s.useState)(""),p=(0,a.Z)(f,2),m=p[0],k=p[1],j=(0,s.useReducer)(J,{checkLists:{categoriesCheckList:[],brandsCheckList:[],priceRange:{},availabilityCheckList:[],sortCheckList:[]},filters:[]}),g=(0,a.Z)(j,2),_=g[0],L=g[1],b=(0,r.s0)(),S=(0,r.TH)(),y=new URLSearchParams(S.search),Z=y.get("sort")||"title-asc",I=(0,n.Z)(l.Dg,!0),R=I.sendRequest,F=I.data,T=I.status,D=I.error;function w(){u(!1)}function K(e){var t=e;b({pathname:S.pathname,search:"?sort=".concat(t)})}if((0,s.useEffect)((function(){L({type:"CHECKLIST_INPUT",data:{checkLists:{categoriesCheckList:(0,o.xw)(z),brandsCheckList:(0,o.xw)(O),priceRange:V,availabilityCheckList:(0,o.xw)(W),sortCheckList:(0,o.xw)(G,"sort","radio")},filters:[]}})}),[]),(0,s.useEffect)((function(){R()}),[R]),(0,s.useEffect)((function(){var e=(0,o.Qw)(_.filters,Z);b({pathname:S.pathname,search:e})}),[_.filters,Z,S.pathname,b]),"pending"===T&&(e=(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)("p",{children:"Loading..."})})),"error"===T&&(e=(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)("p",{children:D})})),"completed"===T){y.forEach((function(e,t){console.log(t,e)})),console.log("........");var U=function(e,t){return t.filter((function(t){var i=t.title.toUpperCase(),a=e.toUpperCase();return i.includes(a)}))}(m,F);console.log("SearchText: ",m);var E=(0,o.fS)(U,Z);e=(0,x.jsx)(Q,{items:E})}return"completed"===T&&0===F.length&&(e=(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)("p",{children:"Products file empty"})})),(0,x.jsx)(d.Z,{children:(0,x.jsxs)("header",{children:[(0,x.jsx)(h.Z,{children:"Search Results Test"}),(0,x.jsx)(v,{onSearchKeyChange:function(e){k(e.target.value)}}),(0,x.jsx)(C,{onShowFiltersModal:function(){u(!0)},selected:Z,onSelectedSort:K}),(0,x.jsxs)(N,{children:[(0,x.jsx)(P,{open:c,onHideFiltersModal:w,onShowResults:function(){w()},checkLists:_.checkLists,filters:_.filters,onChecklistClick:function(e){L({type:"CHECKLIST_CLICK",checkListItem:e})},onFilterRemove:function(e){L({type:"FILTER_CLICK",filterData:e})},sortCheckList:_.checkLists.sortCheckList,onSelectedSort:K,selected:Z}),e]})]})})}},7577:function(e,t,i){i.d(t,{Qw:function(){return n},fS:function(){return s},xw:function(){return r}});var a=i(9439),c=i(7762);function s(e,t){var i=[];switch(t){case"title-asc":default:i=e.sort((function(e,t){var i=e.title.toUpperCase(),a=t.title.toUpperCase();return i<a?-1:i>a?1:0}));break;case"title-desc":i=e.sort((function(e,t){var i=e.title.toUpperCase(),a=t.title.toUpperCase();return i<a?1:i>a?-1:0}));break;case"price-asc":i=e.sort((function(e,t){return e.price<t.price?-1:e.price>t.price?1:0}));break;case"price-desc":i=e.sort((function(e,t){return e.price<t.price?1:e.price>t.price?-1:0}));break;case"date-asc":i=e.sort((function(e,t){return e.date.getTime()<t.date.getTime()?-1:e.date.getTime()>t.date.getTime()?1:0}));break;case"date-desc":i=e.sort((function(e,t){return e.date.getTime()<t.date.getTime()?1:e.date.getTime()>t.date.getTime()?-1:0}))}return i}function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox",a=e.map((function(e,a){var c="radio"===i?t:e.split(" ").join("");return{id:"radio"===i?t+a:c,name:c,caption:"radio"===i?e.caption:e,checked:!1,value:"radio"===i?e.value:e}}));return a}function n(e,t){var i=new Map;i.set("category",[]),i.set("brands",[]),i.set("priceRange.gt",[10]),i.set("priceRange.lt",[1e3]),i.set("availability",[]);var s,r=(0,c.Z)(e);try{for(r.s();!(s=r.n()).done;){var n=s.value;if(i.has(n.fieldName)){var l=i.get(n.fieldName);l.push(n.caption),i.set(n.fieldName,l)}else i.set(n.fieldName,[n.caption])}}catch(k){r.e(k)}finally{r.f()}var o=new URLSearchParams("");o.append("sort",t);var d,h=(0,c.Z)(i);try{for(h.s();!(d=h.n()).done;){var u,f=(0,a.Z)(d.value,2),p=f[0],m=f[1],x=(0,c.Z)(m);try{for(x.s();!(u=x.n()).done;){var v=u.value;o.append(p,v)}}catch(k){x.e(k)}finally{x.f()}}}catch(k){h.e(k)}finally{h.f()}return o.toString()}}}]);
//# sourceMappingURL=941.48908a38.chunk.js.map