"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[712],{5008:function(e,t,r){r.d(t,{Z:function(){return p}});var i=r(1413),n=r(9439),c=r(2791),l="ProductForm_product-form__f+BNw",a="ProductForm_form-control__iyIG+",d="ProductForm_invalid__uONdg",s="ProductForm_actions__q0l40",o=r(184),u=function(e){return""===e.trim()};var p=function(e){var t,r=e.isEdit,p=e.loadedCategories,f=e.onCheckDuplicateTitle,h=e.titleIsDuplicate,x=e.onSaveProduct,m=e.product,j=(0,c.useState)({titleIsDuplicate:!1,title:!0,imageUrl:!0,description:!0,price:!0,brand:!0}),v=(0,n.Z)(j,2),g=v[0],b=v[1],y=(0,c.useRef)(),_=(0,c.useRef)(),P=(0,c.useRef)(),F=(0,c.useRef)(),U=(0,c.useRef)(),Z=(0,c.useRef)(),N=(0,c.useRef)(),k=(0,c.useRef)();t=m?(0,i.Z)({},m):{category:"",title:"",imageUrl:"",description:"",price:0,brand:"",availability:null},h&&_.current.focus();var I=g.title&&!h?a:"".concat(a," ").concat(d),C=g.imageUrl?a:"".concat(a," ").concat(d),R=g.description?a:"".concat(a," ").concat(d),V=g.price?a:"".concat(a," ").concat(d),D=g.brand?a:"".concat(a," ").concat(d);return(0,o.jsx)("section",{className:l,children:(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=y.current.value,r=_.current.value,i=P.current.value,n=F.current.value,c=U.current.value,l=Z.current.value,a=N.current.checked,d=k.current.value,s=!h,o=!u(r),p=!u(i),f=!u(n),m=!(+c<=0),j=!u(l),v=s&&o&&p&&f&&m&&j;b({duplicateTitle:s,title:o,imageUrl:p,description:f,price:m,brand:j}),v&&x({category:t,title:r,imageUrl:i,description:n,price:+c,brand:l,availability:a,info:d})},children:[(0,o.jsxs)("div",{className:a,children:[(0,o.jsx)("label",{htmlFor:"categories",children:"Select Category"}),(0,o.jsx)("select",{id:"categories",ref:y,disabled:!!r,defaultValue:t.category,children:p.map((function(e){return(0,o.jsx)("option",{value:e.id,children:e.title},e.id)}))})]}),(0,o.jsxs)("div",{className:I,children:[(0,o.jsx)("label",{htmlFor:"title",children:"Title"}),(0,o.jsx)("input",{type:"text",id:"title",ref:_,onBlur:function(e){var t=_.current.value,r=y.current.value;f({title:t,categoryId:r})},disabled:!!r,defaultValue:t.title}),!g.title&&(0,o.jsx)("p",{children:"Title not entered"}),h&&(0,o.jsx)("p",{children:"Duplicate Title not allowed"})]}),(0,o.jsxs)("div",{className:C,children:[(0,o.jsx)("label",{htmlFor:"imageUrl",children:"Image Url"}),(0,o.jsx)("input",{type:"text",id:"imageUrl",ref:P,defaultValue:t.imageUrl}),!g.imageUrl&&(0,o.jsx)("p",{children:"ImageUrl not entered"})]}),(0,o.jsxs)("div",{className:R,children:[(0,o.jsx)("label",{htmlFor:"description",children:"Description"}),(0,o.jsx)("input",{type:"text",id:"description",ref:F,defaultValue:t.description}),!g.description&&(0,o.jsx)("p",{children:"Description not entered"})]}),(0,o.jsxs)("div",{className:V,children:[(0,o.jsx)("label",{htmlFor:"price",children:"Price"}),(0,o.jsx)("input",{type:"number",id:"price",ref:U,step:"0.01",defaultValue:t.price}),!g.price&&(0,o.jsx)("p",{children:"Price not entered"})]}),(0,o.jsxs)("div",{className:D,children:[(0,o.jsx)("label",{htmlFor:"brand",children:"Brand"}),(0,o.jsx)("input",{type:"text",id:"brand",ref:Z,defaultValue:t.brand}),!g.brand&&(0,o.jsx)("p",{children:"Description not entered"})]}),(0,o.jsx)("div",{className:a,children:(0,o.jsxs)("label",{children:["Availability",(0,o.jsx)("input",{type:"checkbox",name:"availablity",ref:N,defaultChecked:t.availability})]})}),(0,o.jsxs)("div",{className:a,children:[(0,o.jsx)("label",{htmlFor:"info",children:"Info"}),(0,o.jsx)("textarea",{rows:"5",cols:"40",type:"text",id:"info",ref:k,defaultValue:t.info})]}),(0,o.jsx)("div",{className:s,children:(0,o.jsx)("button",{children:r?"Update Product":"Add Product"})})]})})}},1790:function(e,t,r){var i=r(184);t.Z=function(e){var t=e.children,r={font:"inherit",fontSize:"24px",fontWeight:"normal",textAlign:e.left?"left":"center",color:"#444"};return(0,i.jsx)("h1",{style:r,children:t})}},3712:function(e,t,r){r.r(t),r.d(t,{loader:function(){return h}});var i=r(4165),n=r(5861),c=r(1413),l=r(7689),a=r(6853),d=r(1302),s=r(5008),o=r(1790),u=r(5829),p=r(2676),f=r(184);function h(e){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.next=3,(0,a.V_)(r.category,r.productId);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e,t=(0,l.V4)("loaded-categories"),r=(0,l.f_)(),i=(0,l.s0)(),n=(0,d.Z)(a.nM,!1),h=n.sendRequest,x=n.status,m=n.data,j=n.error;return"pending"===x&&(e=(0,f.jsx)("p",{children:"Updating Product..."})),"error"===x&&(e=(0,f.jsx)("p",{children:j})),"completed"===x&&(e=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"Product updated successfully!"}),(0,f.jsxs)("p",{children:["Product: ",m.title," in Category ",m.category]})]})),console.log(x),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{children:"Edit Product Page"}),e&&(0,f.jsxs)(u.Z,{children:[e,(0,f.jsx)(p.Z,{onClick:function(){i("/admin/collections/all",{replace:!0})},disabled:"pending"===x,children:"OK"})]}),(0,f.jsx)(s.Z,{isEdit:!0,loadedCategories:t,product:r,onSaveProduct:function(e){var t=(0,c.Z)({productId:r.productId},e);h(t)}})]})}}}]);
//# sourceMappingURL=712.a460d32c.chunk.js.map